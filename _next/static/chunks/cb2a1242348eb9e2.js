(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,23675,e=>{"use strict";function t(e){return e}e.s(["assetPath",()=>t])},67027,e=>{"use strict";var t=e.i(6524),i=e.i(54600);let r={metabolic:{bellyFat:.2,crash:.15,diet:.15,sugar:.1,snoring:.15,stepsScore:.1,familyHistory:.075,screeningGap:.075},hormonal:{lowMorningEnergy:.2,missingMorningErections:.25,irritability:.15,sleepDebt:.2,badSleep:.1,lateCaffeine:.05,alcoholNight:.05},stress:{stressNumeric:.25,burnout:.2,overwork:.15,anxiety:.2,lowSupport:.1,lateScreens:.1},sexual:{erectionProblems:.22,PE_score:.13,sexDissatisfaction:.13,pornCycle:.12,desireMismatch:.1,relationshipStress:.08,lowLibido:.12,sexFrequency:.1},lifestyle:{poorDiet:.15,lowWater:.1,alcohol:.15,smoking:.12,badSleep:.12,noSunscreen:.06,pollution:.06,exerciseFrequency:.15,healthTracking:.09},skin:{noSunscreen:.2,pollution:.15,lowWater:.15,smoking:.1,badSleep:.1,skinConcerns:.15,skincareFrequency:.08,sunExposure:.07}};class o{extractVariables(e){t.logger.log("\nâš™ï¸ VARIABLE EXTRACTION");let r={},o=[];return i.SWAI_QUESTIONS.forEach(t=>{let i=e.get(t.id);if(!i)return;let s=0,a="";if("single-choice"===t.type&&t.options){let e=t.options.find(e=>e.value===i.value);s=e?.severity??0,a=e?.label??""}else if("slider"===t.type&&t.sliderConfig){let{min:e,max:r}=t.sliderConfig;s=((Array.isArray(i.value)?i.value[0]:i.value)-e)/(r-e)}let n=[];t.mapsTo.forEach(({variable:e,weight:t})=>{let i=r[e]??0,o=s*t;r[e]=i+o,n.push(`${e}: +${(100*o).toFixed(1)}% (weight ${t})`)}),o.push({id:t.id,label:t.label,answer:a||i.value,severity:(100*s).toFixed(1)+"%",impacts:n})}),t.logger.log("Question Processing:",o),t.logger.log("\nðŸ“Š FINAL HEALTH VARIABLES (0-1 scale):",Object.fromEntries(Object.entries(r).map(([e,t])=>[e,(100*t).toFixed(1)+"%"]))),r}calculateDomainScores(e){t.logger.log("\nðŸŽ¯ DOMAIN SCORE CALCULATION");let i={},o=[];return Object.entries(r).forEach(([t,r])=>{let s=0,a=[];Object.entries(r).forEach(([t,i])=>{let r=e[t]??0,o=r*i;s+=o,a.push({variable:t,value:(100*r).toFixed(1)+"%",weight:i,contribution:(100*o).toFixed(1)})});let n=Math.max(0,Math.min(100,100*s));i[t]=n,o.push({domain:t,finalScore:Math.round(n),variables:a})}),t.logger.log("Domain Breakdown:",o),i}scoreAssessment(e){let t=this.extractVariables(e),i=this.calculateDomainScores(t);return{healthVariables:t,domainScores:i}}getDomainSeverity(e){if(e<30)return{level:"optimal",label:"Optimal",color:"#10B981"};if(e<40)return{level:"good",label:"Good",color:"#22D3EE"};if(e<60)return{level:"moderate",label:"Moderate Concern",color:"#F59E0B"};if(e<70)return{level:"concerning",label:"Concerning",color:"#F97316"};if(e<85)return{level:"high_risk",label:"High Risk",color:"#EF4444"};else return{level:"critical",label:"Critical",color:"#DC2626"}}calculateOverallScore(e){let t=Object.values(e);return Math.round(t.reduce((e,t)=>e+t,0)/t.length)}getPriorityDomains(e,t=60){return Object.entries(e).filter(([e,i])=>i>=t).sort((e,t)=>t[1]-e[1]).map(([e,t])=>({domain:e,score:t}))}}let s=new o;var a=e.i(38859);let n={defaultRange:.167,domainRanges:{stress:.2,metabolic:.15,hormonal:.18},variableRange:.15},l=[{id:"silent_burner",name:"Silent Burner",description:"Hidden stress with moderate metabolic concerns",minScore:2,rules:[{type:"domain",field:"metabolic",operator:"gt",threshold:60,points:2,description:"High metabolic dysfunction"},{type:"domain",field:"metabolic",operator:"gt",threshold:40,points:1,fuzzyRange:.2,description:"Moderate metabolic concerns"},{type:"domain",field:"stress",operator:"gt",threshold:60,points:2,fuzzyRange:.2,description:"High stress levels"},{type:"domain",field:"stress",operator:"gt",threshold:45,points:1.5,fuzzyRange:.25,description:"Moderate stress (early signal)"},{type:"domain",field:"hormonal",operator:"between",threshold:[40,70],points:1.5,description:"Hormonal imbalance (moderate range)"},{type:"domain",field:"sexual",operator:"lt",threshold:50,points:1,description:"Sexual health not severely impacted"}],bonusRules:[{type:"variable",field:"bellyFat",operator:"gt",threshold:.6,points:.5,description:"Belly fat accumulation"},{type:"variable",field:"crash",operator:"gt",threshold:.6,points:.5,description:"Energy crashes"}]},{id:"peak_seeker",name:"Peak Seeker",description:"Optimal health seeking enhancement",minScore:2,rules:[{type:"domain",field:"lifestyle",operator:"lt",threshold:15,points:2,fuzzyRange:.1,description:"Excellent lifestyle habits"},{type:"domain",field:"stress",operator:"lt",threshold:20,points:2,fuzzyRange:.1,description:"Very low stress levels"},{type:"domain",field:"metabolic",operator:"lt",threshold:20,points:1.5,fuzzyRange:.1,description:"Optimal metabolic health"},{type:"domain",field:"hormonal",operator:"lt",threshold:20,points:1.5,fuzzyRange:.1,description:"Balanced hormones"},{type:"domain",field:"sexual",operator:"lt",threshold:20,points:1.5,fuzzyRange:.1,description:"Excellent sexual health"},{type:"variable",field:"healthTracking",operator:"lt",threshold:.2,points:2.5,fuzzyRange:.15,description:"Actively tracks health metrics"},{type:"variable",field:"exerciseFrequency",operator:"lt",threshold:.2,points:1.5,fuzzyRange:.15,description:"Exercises 5+ days/week"}],bonusRules:[{type:"domain",field:"metabolic",operator:"gt",threshold:45,points:-2,fuzzyRange:.1,description:"Moderate metabolic issues (excludes Peak Seeker)"},{type:"domain",field:"stress",operator:"gt",threshold:45,points:-2,fuzzyRange:.1,description:"Moderate stress (excludes Peak Seeker)"}]},{id:"reset_mode",name:"Reset Mode",description:"Burnout with high stress and sleep debt",minScore:2,rules:[{type:"domain",field:"stress",operator:"gt",threshold:70,points:2.5,fuzzyRange:.15,description:"Very high stress"},{type:"domain",field:"metabolic",operator:"gt",threshold:50,points:1.5,description:"Elevated metabolic concerns"},{type:"domain",field:"hormonal",operator:"gt",threshold:50,points:1.5,description:"Hormonal dysregulation"},{type:"variable",field:"sleepDebt",operator:"gt",threshold:.7,points:2.2,description:"Significant sleep debt"},{type:"variable",field:"badSleep",operator:"gt",threshold:.7,points:1,description:"Poor sleep quality"}]},{id:"starter",name:"Starter",description:"Lifestyle intervention needed",minScore:2,rules:[{type:"domain",field:"lifestyle",operator:"gt",threshold:60,points:2,description:"Poor lifestyle habits"},{type:"variable",field:"stepsScore",operator:"gt",threshold:.6,points:1.5,description:"Low physical activity"},{type:"variable",field:"diet",operator:"gt",threshold:.6,points:1.5,description:"Poor diet quality"},{type:"domain",field:"metabolic",operator:"between",threshold:[40,70],points:1.5,description:"Moderate metabolic issues (not severe)"},{type:"variable",field:"exerciseFrequency",operator:"gt",threshold:.6,points:2,fuzzyRange:.15,description:"Rarely exercises (0-2 days/week)"},{type:"variable",field:"healthTracking",operator:"gt",threshold:.6,points:1,fuzzyRange:.15,description:"Does not track health metrics"}]},{id:"disconnected_intimacy",name:"Disconnected Intimacy",description:"Relationship stress and desire mismatch",minScore:2,rules:[{type:"variable",field:"relationshipStress",operator:"gt",threshold:.5,points:2,fuzzyRange:.15,description:"High relationship stress"},{type:"variable",field:"desireMismatch",operator:"gt",threshold:.5,points:2,fuzzyRange:.15,description:"Libido mismatch with partner"},{type:"variable",field:"sexDissatisfaction",operator:"gt",threshold:.5,points:1.5,fuzzyRange:.15,description:"Sexual dissatisfaction"},{type:"variable",field:"erectionProblems",operator:"lt",threshold:.4,points:1,description:"Erections mostly OK"},{type:"domain",field:"stress",operator:"gt",threshold:60,points:.5,description:"Elevated stress contributing"}]},{id:"pleasure_optimizer",name:"Pleasure Optimizer",description:"Good sexual health, wants enhancement",minScore:2,rules:[{type:"domain",field:"metabolic",operator:"lt",threshold:35,points:1,description:"Good metabolic health"},{type:"domain",field:"hormonal",operator:"lt",threshold:35,points:1,description:"Balanced hormones"},{type:"domain",field:"stress",operator:"lt",threshold:35,points:1,description:"Low stress"},{type:"domain",field:"sexual",operator:"lt",threshold:30,points:2,description:"Excellent sexual health"},{type:"variable",field:"sexDissatisfaction",operator:"lt",threshold:.3,points:1.5,description:"Satisfied with sex life"},{type:"variable",field:"erectionProblems",operator:"lt",threshold:.3,points:1.5,description:"Strong erectile function"},{type:"variable",field:"sexFrequency",operator:"lt",threshold:.4,points:1.5,fuzzyRange:.15,description:"Regular sexual activity (1-2+ times/week)"},{type:"variable",field:"lowLibido",operator:"lt",threshold:.3,points:1,fuzzyRange:.15,description:"Strong sex drive"}]},{id:"metabolic_slow_burner",name:"Metabolic Slow Burner",description:"Weight and energy concerns",minScore:2,rules:[{type:"domain",field:"metabolic",operator:"gt",threshold:70,points:2,description:"Severe metabolic dysfunction"},{type:"variable",field:"bellyFat",operator:"gt",threshold:.6,points:1.5,description:"Significant belly fat"},{type:"variable",field:"crash",operator:"gt",threshold:.6,points:1.5,description:"Frequent energy crashes"},{type:"variable",field:"stepsScore",operator:"gt",threshold:.6,points:1.5,description:"Low activity levels"},{type:"variable",field:"diet",operator:"gt",threshold:.6,points:1.5,description:"Poor dietary habits"}]},{id:"cortisol_driver",name:"Cortisol Driver",description:"Chronic stress and cortisol issues",minScore:2,rules:[{type:"domain",field:"stress",operator:"gt",threshold:80,points:3.6,fuzzyRange:.15,description:"Extreme stress levels"},{type:"variable",field:"sleepDebt",operator:"gt",threshold:.7,points:1.5,description:"Chronic sleep deprivation"},{type:"variable",field:"badSleep",operator:"gt",threshold:.7,points:1,description:"Poor sleep quality"},{type:"variable",field:"irritability",operator:"gt",threshold:.6,points:2,description:"High irritability"},{type:"variable",field:"lowSupport",operator:"gt",threshold:.6,points:1.5,description:"Lack of support system"}]},{id:"sleep_deprived_achiever",name:"Sleep-Deprived Achiever",description:"Sleep issues from lifestyle",minScore:2,rules:[{type:"variable",field:"sleepDebt",operator:"gt",threshold:.7,points:2,description:"Significant sleep debt"},{type:"variable",field:"badSleep",operator:"gt",threshold:.7,points:1,description:"Poor sleep quality"},{type:"variable",field:"lateScreens",operator:"gt",threshold:.6,points:1.5,description:"Late night screen use"},{type:"variable",field:"lateCaffeine",operator:"gt",threshold:.6,points:1,description:"Late caffeine consumption"},{type:"domain",field:"stress",operator:"gt",threshold:60,points:1,fuzzyRange:.2,description:"Elevated stress"},{type:"domain",field:"hormonal",operator:"gt",threshold:60,points:1,description:"Hormonal impact from poor sleep"}]},{id:"dopamine_cycler",name:"Dopamine Cycler",description:"Porn cycle and desire mismatch",minScore:2,rules:[{type:"variable",field:"pornCycle",operator:"gt",threshold:.6,points:2,fuzzyRange:.15,description:"Frequent porn use affecting relationships"},{type:"variable",field:"sexDissatisfaction",operator:"gt",threshold:.5,points:1.5,fuzzyRange:.15,description:"Sexual dissatisfaction"},{type:"variable",field:"desireMismatch",operator:"gt",threshold:.4,points:1,fuzzyRange:.15,description:"Desire mismatch with partner"},{type:"domain",field:"hormonal",operator:"between",threshold:[30,60],points:1,description:"Hormonal in normal-low range"},{type:"domain",field:"stress",operator:"gt",threshold:60,points:.5,description:"Stress contributing"},{type:"variable",field:"lowSupport",operator:"gt",threshold:.6,points:.5,description:"Lack of support"}]}];class p{config=l;fuzzyConfig=n;evaluateFuzzyRule(e,t,i){let r;if("domain"===e.type)r=t[e.field];else{if("variable"!==e.type)return 0;r=i[e.field]}let o=e.fuzzyRange??("domain"===e.type?this.fuzzyConfig.domainRanges[e.field]??this.fuzzyConfig.defaultRange:this.fuzzyConfig.variableRange);return this.calculateFuzzyScore(r,e.threshold,e.points,e.operator,o)}calculateFuzzyScore(e,t,i,r,o){if("between"===r){let[r,s]=t,a=r*(1-o),n=s*(1+o);return e<a||e>n?0:e>=r&&e<=s?i:e<r?(e-a)/(r-a)*i:(n-e)/(n-s)*i}if("gt"===r){let r=t*(1-o),s=t*(1+o);return e<=r?0:e>=s?i:(e-r)/(s-r)*i}if("lt"===r){let r=t*(1-o),s=t*(1+o);return e>=s?0:e<=r?i:(s-e)/(s-r)*i}return 0}scoreArchetype(e,t,i){let r=this.config.find(t=>t.id===e);if(!r)return 0;let o=0;for(let e of r.rules)o+=this.evaluateFuzzyRule(e,t,i);if(r.bonusRules)for(let e of r.bonusRules)o+=this.evaluateFuzzyRule(e,t,i);return o}classify(e,i){t.logger.log("\nðŸŽ­ ARCHETYPE CLASSIFICATION (Fuzzy Scoring)");let r=this.config.map(t=>({id:t.id,score:this.scoreArchetype(t.id,e,i),riskWeight:a.ARCHETYPES[t.id]?.scoringWeight??.5})),o=[...r].sort((e,t)=>t.score-e.score).map(e=>({archetype:e.id,score:parseFloat(e.score.toFixed(2)),riskWeight:e.riskWeight,passedThreshold:e.score>=2}));t.logger.log("\nðŸŽ­ All Archetype Scores (copy this):"),t.logger.log(JSON.stringify(o,null,2));let s=r.filter(e=>e.score>=2);if(t.logger.log(`
Valid candidates (score >= 2): ${s.length}`),0===s.length)return t.logger.log("âš ï¸ No valid matches (even with fuzzy) - using neutral archetype"),"health_explorer";s.sort((e,t)=>.1>Math.abs(t.score-e.score)?t.riskWeight-e.riskWeight:t.score-e.score);let n={archetype:s[0].id,score:parseFloat(s[0].score.toFixed(2)),riskWeight:s[0].riskWeight,runnerUps:s.slice(1,3).map(e=>({archetype:e.id,score:parseFloat(e.score.toFixed(2)),scoreDiff:parseFloat((s[0].score-e.score).toFixed(2))}))};return t.logger.log("\nðŸ† Winner (copy this):"),t.logger.log(JSON.stringify(n,null,2)),s[0].id}evaluateTrigger(e,t,i){if(e.domain){let i=t[e.domain];switch(e.operator){case"gt":return i>e.value;case"lt":return i<e.value;case"between":let[r,o]=e.value;return i>=r&&i<=o;case"eq":return i===e.value;default:return!1}}if(e.variable){let t=100*i[e.variable];switch(e.operator){case"gt":return t>e.value;case"lt":return t<e.value;case"between":let[r,o]=e.value;return t>=r&&t<=o;case"eq":return t===e.value}}return!1}getClassificationReasoning(e,t,i){let r=a.ARCHETYPES[e],o=[];return r.triggers&&r.triggers.forEach(e=>{if(this.evaluateTrigger(e,t,i)){if(e.domain){let i=t[e.domain];o.push(`${e.domain} score is ${Math.round(i)} (${e.operator} ${e.value})`)}else if(e.variable){let t=Math.round(100*i[e.variable]);o.push(`${e.variable} level is ${t}% (${e.operator} ${e.value})`)}}}),o}}let c=new p;var d=e.i(23675);let h={SW01:{id:"SW01",name:"Male Performance & Vitality",shortName:"Vitality",category:"supplement",price:59.99,imageUrl:(0,d.assetPath)("/Product_SWAI01.png"),description:"Supports circulation, stamina, and hormonal balance for sexual performance and vitality.",benefits:["Enhanced blood flow and circulation","Improved libido and sexual stamina","Hormonal balance support","Stress-resilience boost"],ingredients:["L-Citrulline","Panax Ginseng","Zinc","Fenugreek","Vitamin D3"],ingredientsCopy:"L-Arginine, Ginkgo Biloba, and Cordyceps help boost circulation and oxygen delivery, while Taurine and L-Tyrosine support focus and endurance.",domainWeights:{sexual:.45,hormonal:.2,stress:.1,metabolic:.15,lifestyle:.05,skin:0},archetypeMultipliers:{silent_burner:1.2,reset_mode:1.15,cortisol_driver:1.25,sleep_deprived_achiever:1.3,metabolic_slow_burner:1.1,dopamine_cycler:1.3,disconnected_intimacy:1.15,pleasure_optimizer:1.2,peak_seeker:1.1,starter:1,health_explorer:1},recommendationCopy:{heading:"Restore Your Performance",reasoning:"Your stress and sexual health scores indicate circulation and hormonal support could help."}},SW02:{id:"SW02",name:"Sperm Health & Fertility",shortName:"Fertility",category:"supplement",price:64.99,imageUrl:(0,d.assetPath)("/Product_SWAI02.png"),description:"Optimizes reproductive health, sperm quality, and hormonal balance for fertility.",benefits:["Improved sperm count and motility","Enhanced reproductive hormones","Antioxidant protection","Circulation support"],ingredients:["CoQ10","L-Carnitine","Zinc","Selenium","Folate"],ingredientsCopy:"L-Arginine, L-Ornithine, and Zinc Gluconate help optimize sperm production and motility, while Cordyceps and Ginkgo Biloba promote circulation and hormone balance.",domainWeights:{sexual:.35,hormonal:.25,metabolic:.1,stress:.05,lifestyle:.05,skin:0},archetypeMultipliers:{silent_burner:1,reset_mode:1.2,cortisol_driver:1,sleep_deprived_achiever:1,metabolic_slow_burner:1,dopamine_cycler:1.1,disconnected_intimacy:1.35,pleasure_optimizer:1,peak_seeker:1,starter:1,health_explorer:1},recommendationCopy:{heading:"Support Your Fertility",reasoning:"Your profile suggests reproductive health support could optimize your biology."}},SW03:{id:"SW03",name:"Prostate Wellness",shortName:"Prostate",category:"supplement",price:54.99,imageUrl:(0,d.assetPath)("/Product_SWAI03.png"),description:"Long-term prostate health support with DHT management and anti-inflammatory benefits.",benefits:["Prostate health maintenance","Healthy DHT metabolism","Anti-inflammatory support","Urinary flow support"],ingredients:["Saw Palmetto","Beta-Sitosterol","Pygeum Africanum","Lycopene","Zinc"],ingredientsCopy:"Cinnamon, Pine Bark, and Black Galingale extracts aid circulation and reduce oxidative stress, while Lycopene and Zinc strengthen the body's natural defenses.",domainWeights:{metabolic:.3,hormonal:.2,sexual:.1,stress:.1,lifestyle:.1,skin:0},archetypeMultipliers:{silent_burner:1,reset_mode:1,cortisol_driver:1.1,sleep_deprived_achiever:1,metabolic_slow_burner:1.25,dopamine_cycler:1,disconnected_intimacy:1,pleasure_optimizer:1,peak_seeker:1.1,starter:1,health_explorer:1},recommendationCopy:{heading:"Protect Your Prostate",reasoning:"Your age and metabolic profile suggest proactive prostate support."}},SW04:{id:"SW04",name:"Daily Moisturizer",shortName:"Moisturizer",category:"skincare",price:39.99,imageUrl:(0,d.assetPath)("/Product_SWAI04.png"),description:"Lightweight daily hydration with barrier protection and pollution defense.",benefits:["Deep hydration without grease","Skin barrier protection","Pollution defense","Reduces stress-related dullness"],ingredients:["Hyaluronic Acid","Niacinamide","Ceramides","Squalane","Peptides"],ingredientsCopy:"Aloe Vera and Hyaluron helps calms and hydrates the skin.",domainWeights:{skin:.8,stress:.05,lifestyle:.1,metabolic:0,hormonal:0,sexual:0},archetypeMultipliers:{silent_burner:1.1,reset_mode:1,cortisol_driver:1,sleep_deprived_achiever:1.15,metabolic_slow_burner:1,dopamine_cycler:1,disconnected_intimacy:1,pleasure_optimizer:1,peak_seeker:1.2,starter:1,health_explorer:1},recommendationCopy:{heading:"Protect Your Skin",reasoning:"Daily hydration and barrier protection for healthy, resilient skin."}},SW05:{id:"SW05",name:"Night Serum",shortName:"Serum",category:"skincare",price:49.99,imageUrl:(0,d.assetPath)("/Product_SWAI05.png"),description:"Advanced overnight treatment for aging, pigmentation, and barrier repair.",benefits:["Anti-aging actives","Reduces hyperpigmentation","Oil control","Overnight barrier repair"],ingredients:["Retinol","Vitamin C","Niacinamide","Alpha Arbutin","Peptide Complex"],ingredientsCopy:"HPR (Hydroxypinacolone Retinoate): new-gen retinoid for wrinkle reduction without redness. Niacinamide: controls oil, tightens pores, brightens skin tone. Ceramides: reinforce the skin barrier and calm post-shave irritation.",domainWeights:{skin:.75,hormonal:.1,stress:.05,lifestyle:.05,metabolic:0,sexual:0},archetypeMultipliers:{silent_burner:1.1,reset_mode:1,cortisol_driver:1.1,sleep_deprived_achiever:1.2,metabolic_slow_burner:1,dopamine_cycler:1,disconnected_intimacy:1,pleasure_optimizer:1.3,peak_seeker:1.3,starter:1,health_explorer:1},recommendationCopy:{heading:"Upgrade Your Skincare",reasoning:"Advanced anti-aging and repair while you sleep."}}};class u{calculateDomainFit(e,t){let i=0,r=0;return Object.entries(e.domainWeights).forEach(([o,s])=>{let a=t[o],n="supplement"===e.category?a:Math.min(a+20,100);i+=n*s,r+=s}),r>0?i/r:0}applyArchetypeMultiplier(e,t,i){return Math.min(100,e*(t.archetypeMultipliers[i]??1))}generateReasoning(e,t,i,r){let o=[],s=a.ARCHETYPES[i],n=Object.entries(e.domainWeights).filter(([e,t])=>t>20).map(([e])=>e).filter(e=>t[e]>50).sort((e,i)=>t[i]-t[e]);if(n.length>0){let e=n[0],i=Math.round(t[e]);o.push(`Your ${e} score (${i}) indicates this could help`)}let l=e.archetypeMultipliers[i];l&&l>1.1&&o.push(`Highly recommended for ${s.name} archetype`);let p=s.needs.filter(t=>e.benefits.some(e=>e.toLowerCase().includes(t.toLowerCase().split(" ")[0])));return p.length>0&&o.push(`Addresses your key need: ${p[0].toLowerCase()}`),"SW01"===e.id?(t.sexual>60&&o.push("Supports sexual performance and blood flow"),t.hormonal>50&&o.push("Helps restore hormonal rhythm")):"SW02"===e.id?t.sexual>40&&t.hormonal>40&&o.push("Optimizes reproductive health"):"SW03"===e.id?t.metabolic>50&&o.push("Long-term proactive health support"):"SW04"===e.id?(t.lifestyle>50&&o.push("Essential daily barrier protection"),t.stress>60&&o.push("Repairs stress-related skin damage")):"SW05"===e.id&&(t.lifestyle>40||t.stress>50)&&o.push("Advanced overnight skin recovery"),o.slice(0,3)}calculatePriority(e,t,i,r){if("SW01"===t.id){if(r.sexual>60||r.hormonal>60)return 1;if(r.sexual>40||r.hormonal>40)return 2}return"SW04"===t.id?3:e>75?1:e>60?2:e>45?3:e>30?4:5}getArchetypeBundle(e){return({silent_burner:["SW01","SW04"],reset_mode:["SW02","SW04"],cortisol_driver:["SW01","SW03"],sleep_deprived_achiever:["SW01","SW05"],metabolic_slow_burner:["SW03","SW04"],dopamine_cycler:["SW01","SW04"],disconnected_intimacy:["SW02","SW01"],pleasure_optimizer:["SW05","SW01"],peak_seeker:["SW05","SW04","SW03"],starter:["SW04","SW01"],health_explorer:["SW04","SW01"]})[e]??[]}recommend(e,t,i=3){let r=[],o=this.getArchetypeBundle(t);return Object.values(h).forEach(i=>{let s=this.calculateDomainFit(i,e);s=this.applyArchetypeMultiplier(s,i,t),o.includes(i.id)&&(s=Math.min(100,1.2*s));let a=this.generateReasoning(i,e,t,s),n=this.calculatePriority(s,i,t,e);r.push({product:i,fitScore:Math.round(s),reasoning:a,priority:n})}),r.sort((e,t)=>5>Math.abs(e.fitScore-t.fitScore)?e.priority-t.priority:t.fitScore-e.fitScore),r.slice(0,i)}getProductCatalogWithScores(e,t){let i=this.recommend(e,t,5);return{supplements:i.filter(e=>"supplement"===e.product.category),skincare:i.filter(e=>"skincare"===e.product.category)}}}let m=new u;class g{analyze(e){t.logger.log("ðŸ” SWAI ASSESSMENT ANALYSIS START"),t.logger.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”");let i={totalQuestions:e.size,responses:Array.from(e.entries()).map(([e,t])=>({questionId:e,value:t.value}))};t.logger.log("\nðŸ“ RAW RESPONSES (copy this):"),t.logger.log(JSON.stringify(i,null,2));let{healthVariables:r,domainScores:o}=s.scoreAssessment(e),a=c.classify(o,r),n=m.recommend(o,a,3),l={archetype:a,domainScores:o,topProducts:n.slice(0,3).map(e=>({id:e.product.id,name:e.product.name,fitScore:Math.round(e.fitScore)}))};return t.logger.log("\nâœ… FINAL RESULT (copy this):"),t.logger.log(JSON.stringify(l,null,2)),t.logger.log("â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n"),{healthVariables:r,domainScores:o,archetype:a,productRecommendations:n,calculatedAt:Date.now()}}getInsights(e){let{domainScores:t,archetype:i,healthVariables:r}=e,o=s.calculateOverallScore(t),a=s.getDomainSeverity(o).label,n=s.getPriorityDomains(t,60),l=c.getClassificationReasoning(i,t,r),p=this.generateActionableRecommendations(t,i,n);return{overallScore:o,overallSeverity:a,priorityDomains:n,archetypeReasoning:l,recommendations:p}}generateActionableRecommendations(e,t,i){let r=[],o=[],s=[];return i.slice(0,2).forEach(({domain:e,score:t})=>{"stress"===e&&t>70?(r.push("Begin daily 10-minute breathing or meditation practice"),r.push("Establish consistent sleep schedule (same time nightly)")):"metabolic"===e&&t>70?(r.push("Start tracking daily steps (aim for 7,000+)"),r.push("Replace one processed meal with whole foods")):"sexual"===e&&t>60?(r.push("Consider SW01 for circulation support"),r.push("Reduce alcohol and late-night stimulants")):"hormonal"===e&&t>60&&(r.push("Prioritize 7+ hours sleep nightly"),r.push("Get morning sunlight within 30min of waking"))}),e.lifestyle>50&&(o.push("Build consistent skincare routine (SW04 daily)"),o.push("Reduce screen time 1 hour before bed")),e.metabolic>50&&(o.push("Incorporate resistance training 2-3x/week"),o.push("Consider metabolic blood panel (glucose, lipids)")),e.stress>60&&(o.push("Schedule weekly stress-reduction activity"),o.push("Build support network or consider counseling")),s.push("Reassess every 30 days to track evolution"),s.push("Build habits that support transition to optimize phase"),"peak_seeker"===t||"pleasure_optimizer"===t?s.push("Consider advanced optimization (SW02, SW05)"):s.push("Focus on stabilizing priority domains first"),{immediate:r.slice(0,3),shortTerm:o.slice(0,3),longTerm:s.slice(0,2)}}getEvolutionPhase(e){let t=Math.max(...Object.values(e));return t>=70?"repair":t>=40?"stabilize":"optimize"}validateResponses(e,t=20){let i=Math.max(0,t-e.size);return{valid:0===i,missing:i}}}let y=new g;async function f(e){let t=y.validateResponses(e);if(!t.valid)throw Error(`Assessment incomplete: ${t.missing} questions remaining`);return y.analyze(e)}e.s([],97759),e.i(97759),e.s(["ArchetypeClassifier",()=>p,"AssessmentAnalyzer",()=>g,"ProductRecommender",()=>u,"ScoringEngine",()=>o,"analyzeAssessment",()=>f,"archetypeClassifier",0,c,"assessmentAnalyzer",0,y,"productRecommender",0,m,"scoringEngine",0,s],67027)}]);